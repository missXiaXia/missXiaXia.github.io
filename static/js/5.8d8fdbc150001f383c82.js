webpackJsonp([5],{"07RY":function(t,a,i){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s=i("3cXf"),e=i.n(s),r=i("mowP"),l={mixins:[{computed:{taskImg:function(){return this.$api.baUrl+this.taskEditData.task_pic},downloadHref:function(){return this.$api.cpUrl+this.taskEditData.manuscript}},data:function(){return{currentPage:1,pageSize:15,totalCount:0,recommend_type_list:[],recommend_type:"",recommend_type_id:"",task_status:"6",sure_task_status:"6",obey_task_status:!1,taskEditData:[],noPassReason:"",checkBoxTask:"90",taskSort:[{id:105,name:"小说名著"},{id:90,name:"时事点评"}]}},created:function(){this._getTaskListInfo()},methods:{_getTaskListInfo:function(){var t=this,a={uuid:this.$api.uuid,type:"1",id:this.$route.params.id};this.$api.getTaskListInfo(a).then(function(a){200==a.code?(t.taskEditData=a.data.list[0],t.taskEditData.create_time=Object(r.formatTime)(1e3*a.data.list[0].create_time,"YMDHMS"),t.taskEditData.end_time=Object(r.formatTime)(1e3*a.data.list[0].end_time,"YMDHMS"),t.taskEditData.requirement=e()(a.data.list[0].requirement),t.taskEditData.is_top=a.data.list[0].is_top.toString(),t.taskEditData.task_status=a.data.list[0].task_status.toString(),t._getRecommendType()):t.$Message.error(a.msg)})},_getRecommendType:function(){var t=this,a={uuid:this.$api.uuid,page:this.currentPage,per_page:this.pageSize,sort_type:null,sort_by:""};this.$api.getRecommendType(a).then(function(a){if(200==a.code)if(t.recommend_type_list=a.data.list,""==t.taskEditData.recommend_type)t.recommend_type_id="0";else for(var i=0;i<$scope.recommend_type_list.length;i++)t.recommend_type_list[i].name==t.taskEditData.recommend_type&&(t.recommend_type_id=t.recommend_type_list[i].id+"");else t.$Message.error(a.msg)})},changeRadio:function(t){switch(t){case"0":this.writerEditData.veri_reply="版权认证待审核";break;case"1":this.writerEditData.veri_reply="恭喜您,您的版权认证已经通过!";break;case"2":this.writerEditData.veri_reply="非常抱歉的通知您,您的版权认证没有通过"}},changeSelect:function(t){switch(t){case"版权认证待审核":this.writerEditData.veri_status="0";break;case"恭喜您,您的版权认证已经通过!":this.writerEditData.veri_status="1";break;case"非常抱歉的通知您,您的版权认证没有通过":this.writerEditData.veri_status="2"}},cancel:function(){this.toListPage()},confirmEdit:function(){var t=this;if("2"!=this.writerEditData.veri_status||""!=this.noPassReason){var a={uuid:this.$api.uuid,auth_rel_user_id:this.$route.params.id,veri_reply:this.writerEditData.veri_reply,veri_status:this.writerEditData.veri_status,veri_comment:this.noPassReason};this.$api.confirmEditWriter(a).then(function(a){200==a.code?(t.$Message.success("修改成功"),t.toListPage()):t.$Message.error(a.msg)})}else this.$Message.error("请填写不通过原因")},toListPage:function(){"fromWriterList"==this.$route.params.from?this.$router.push({name:"writer_list"}):"fromAuthenticationList"==this.$route.params.from&&this.$router.push({name:"authentication_list"})}}}]},n={render:function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",[i("div",{staticClass:"fontBigSize alignCenter fontBoldWeight marginTop30"},[t._v("任务编辑")]),t._v(" "),[i("div",{staticClass:"fontMiddleSize writerEdit marginBottom30"},[i("div",{staticClass:"marginTop20"},[i("label",{staticClass:"formLabel marginRight20"},[t._v("任务编号")]),t._v(" "),i("Input",{staticClass:"width800",attrs:{disabled:""},model:{value:t.taskEditData.id,callback:function(a){t.$set(t.taskEditData,"id",a)},expression:"taskEditData.id"}})],1),t._v(" "),i("div",{staticClass:"marginTop20"},[i("label",{staticClass:"formLabel marginRight20"},[t._v("任务名称")]),t._v(" "),i("Input",{staticClass:"width800",attrs:{disabled:""},model:{value:t.taskEditData.title,callback:function(a){t.$set(t.taskEditData,"title",a)},expression:"taskEditData.title"}})],1),t._v(" "),t.taskEditData.task_pic?i("div",{staticClass:"marginTop20  flex"},[i("label",{staticClass:"formLabel marginRight20"},[t._v("任务图片")]),t._v(" "),i("img",{staticClass:"cardImg",attrs:{src:t.taskImg,alt:""}})]):t._e(),t._v(" "),i("div",{staticClass:"marginTop20"},[i("label",{staticClass:"formLabel marginRight20"},[t._v("任务描述")]),t._v(" "),i("Input",{staticClass:"width800",attrs:{type:"textarea",disabled:""},model:{value:t.taskEditData.desc,callback:function(a){t.$set(t.taskEditData,"desc",a)},expression:"taskEditData.desc"}})],1),t._v(" "),i("div",{staticClass:"marginTop20"},[i("label",{staticClass:"editLabelColor formLabel marginRight20"},[t._v("发布人")]),t._v(" "),i("Input",{staticClass:"width800",attrs:{disabled:""},model:{value:t.taskEditData.nickname,callback:function(a){t.$set(t.taskEditData,"nickname",a)},expression:"taskEditData.nickname"}})],1),t._v(" "),i("div",{staticClass:"marginTop20  flex"},[i("label",{staticClass:"editLabelColor formLabel marginRight20"},[t._v("任务发布时间")]),t._v(" "),i("Input",{staticClass:"width800",attrs:{disabled:""},model:{value:t.taskEditData.create_time,callback:function(a){t.$set(t.taskEditData,"create_time",a)},expression:"taskEditData.create_time"}})],1),t._v(" "),i("div",{staticClass:"marginTop20"},[i("label",{staticClass:"editLabelColor formLabel marginRight20"},[t._v("任务要求")]),t._v(" "),i("Input",{staticClass:"width800",attrs:{disabled:""},model:{value:t.taskEditData.requirement,callback:function(a){t.$set(t.taskEditData,"requirement",a)},expression:"taskEditData.requirement"}})],1),t._v(" "),i("div",{staticClass:"marginTop20"},[i("label",{staticClass:"formLabel marginRight20",attrs:{for:"email"}},[t._v("任务领取人")]),t._v(" "),t._l(t.taskEditData.subtask_list,function(a){return i("span",{staticClass:"marginRight10"},[a.nickname?i("Icon",{staticStyle:{position:"relative",top:"5px"},attrs:{type:"ios-person",size:"24"}}):t._e(),t._v(" "+t._s(a.nickname)+"\n        ")],1)})],2),t._v(" "),i("div",{staticClass:"marginTop20"},[i("label",{staticClass:"editLabelColor formLabel marginRight20",attrs:{for:"qqNum"}},[t._v("任务热度(看的人数)")]),t._v(" "),i("Input",{staticClass:"width800",attrs:{disabled:""}})],1),t._v(" "),i("div",{staticClass:"marginTop20"},[i("label",{staticClass:"editLabelColor formLabel marginRight20",attrs:{for:"wxNUm"}},[t._v("任务截止时间")]),t._v(" "),i("Input",{staticClass:"width800",attrs:{disabled:""},model:{value:t.taskEditData.end_time,callback:function(a){t.$set(t.taskEditData,"end_time",a)},expression:"taskEditData.end_time"}})],1),t._v(" "),i("div",{staticClass:"marginTop20"},[i("label",{staticClass:"editLabelColor formLabel marginRight20",attrs:{for:"intro"}},[t._v("任务文稿")]),t._v(" "),i("Button",{attrs:{type:"primary"}},[t._v("查看")]),t._v(" "),i("Button",{attrs:{type:"primary"}},[i("a",{staticStyle:{color:"#fff"},attrs:{href:t.downloadHref,fileurl:t.downloadHref}},[t._v("下载")])])],1),t._v(" "),i("div",{staticClass:"marginTop20"},[i("label",{staticClass:"editLabelColor formLabel marginRight20",attrs:{for:"address"}},[t._v("任务标签")]),t._v(" "),t._l(t.taskEditData.tag_list,function(a){return i("span",{staticClass:"marginRight20"},[t._v(t._s(a))])})],2),t._v(" "),t._m(0),t._v(" "),i("div",{staticClass:"marginTop20 "},[i("label",{staticClass:"editLabelColor formLabel marginRight20",attrs:{for:"checkBack"}},[t._v("是否置顶")]),t._v(" "),i("Select",{staticClass:"searchSelect width100",model:{value:t.taskEditData.is_top,callback:function(a){t.$set(t.taskEditData,"is_top",a)},expression:"taskEditData.is_top"}},[i("Option",{attrs:{value:"1"}},[t._v("是")]),t._v(" "),i("Option",{attrs:{value:"0"}},[t._v("否")])],1)],1),t._v(" "),i("div",{staticClass:"marginTop20"},[i("label",{staticClass:"editLabelColor formLabel marginRight20",attrs:{for:"checkBack"}},[t._v("推荐标签")]),t._v(" "),i("Select",{staticClass:"width100",model:{value:t.recommend_type_id,callback:function(a){t.recommend_type_id=a},expression:"recommend_type_id"}},[i("Option",{attrs:{value:"0"}},[t._v("无")]),t._v(" "),t._l(t.recommend_type_list,function(a){return i("Option",{key:a.id,attrs:{value:a.id}},[t._v(t._s(a.name))])})],2),t._v(" "),t._m(1)],1),t._v(" "),i("div",{staticClass:"marginTop20"},[i("label",{staticClass:"editLabelColor formLabel marginRight20",attrs:{for:"checkStatus"}},[t._v("是否下架")]),t._v(" "),i("RadioGroup",{model:{value:t.taskEditData.task_status,callback:function(a){t.$set(t.taskEditData,"task_status",a)},expression:"taskEditData.task_status"}},["6"==t.taskEditData.task_status?i("Radio",{attrs:{label:"6"}},[t._v("是")]):"4"==t.taskEditData.task_status?i("Radio",{attrs:{label:"4"}},[t._v("是")]):i("Radio",{attrs:{label:"6"}},[t._v("是")]),t._v(" "),i("Radio",{attrs:{label:"0"}},[t._v("否")])],1)],1),t._v(" "),i("div",{staticClass:"marginTop20 marginBottom30 fr",staticStyle:{"margin-right":"345px"}},[i("Button",{staticClass:"borderNone",on:{click:t.cancel}},[t._v("取消")]),t._v(" "),i("Button",{attrs:{type:"primary"},on:{click:t.confirmEdit}},[t._v("确定")])],1)])]],2)},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"marginTop20 flex"},[a("label",{staticClass:"editLabelColor formLabel marginRight20",attrs:{for:"address"}},[this._v("任务类别")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("span",[a("a",{attrs:{href:"#"}},[this._v("编辑推荐标签")])])}]};var o=i("C7Lr")(l,n,!1,function(t){i("OiPw")},null,null);a.default=o.exports},"3cXf":function(t,a,i){t.exports={default:i("NUnD"),__esModule:!0}},NUnD:function(t,a,i){var s=i("/KQr"),e=s.JSON||(s.JSON={stringify:JSON.stringify});t.exports=function(t){return e.stringify.apply(e,arguments)}},OiPw:function(t,a){}});