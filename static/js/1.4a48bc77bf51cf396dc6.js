webpackJsonp([1],{"4Xi4":function(e,t,s){e.exports={default:s("iZLF"),__esModule:!0}},hDVp:function(e,t,s){var a=s("2AZ7");a(a.S,"Number",{isInteger:s("l0G2")})},iZLF:function(e,t,s){s("hDVp"),e.exports=s("/KQr").Number.isInteger},l0G2:function(e,t,s){var a=s("yLZD"),i=Math.floor;e.exports=function(e){return!a(e)&&isFinite(e)&&i(e)===e}},wrpm:function(e,t){},z7OI:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s("4Xi4"),i=s.n(a),o=s("mowP"),r={mixins:[{data:function(){var e=this;return{pageSize:15,currentPage:1,last_request_time:0,recommend_type:"-1",new_user_status:"-1",totalCount:0,loading:!0,newUserRecommendList:[],newUserRecommendColum:[{title:"序号",key:"sort_order",align:"center"},{title:"推荐页类型",key:"recommend_type",align:"center",render:function(e,t){return e("span",Object(o.newUserPickedType)(t.row.recommend_type))}},{title:"推荐对象ID",key:"rel_id",align:"center"},{title:"状态",key:"status",align:"center",render:function(e,t){return e("span",Object(o.newUserStatus)(t.row.status))}},{title:"推荐时间",key:"create_time",align:"center",render:function(e,t){return e("span",Object(o.formatTime)(1e3*t.row.create_time,"YMDHMS"))}},{title:"操作",key:"action",width:180,align:"center",render:function(t,s){return t("div",[t("Button",{props:{type:"primary",size:"small"},style:{marginRight:"5px"},on:{click:function(){e.editModalShow(s.row)}}},"编辑"),t("Button",{props:{type:"error",size:"small"},on:{click:function(){e.deleteModalShow(s.row.recommend_id)}}},"删除")])}}],addModel:!1,add_recommend_type:"0",recommend_user_id:"",add_status:"1",editModel:!1,edit_recommend_type:"",edit_recommend_id:0,edit_status:0,sort_order:null,canAttention:!1,deleteModal:!1,delete_id:0}},created:function(){this.getNewUserRecommend()},methods:{getNewUserRecommend:function(){var e=this,t={uuid:this.$api.uuid,page:this.currentPage,per_page:this.pageSize,last_request_time:this.last_request_time,recommend_type:this.recommend_type,status:this.new_user_status};this.$api.getNewUserRecommend(t).then(function(t){e.loading=!1,200==t.code?(e.totalCount=t.data.total_count,e.currentPage=t.data.page,e.newUserRecommendList=t.data.list,e.last_request_time=t.data.last_request_time):e.$Message.error(t.msg)})},searchData:function(){this.currentPage=1,this.loading=!0,this.getNewUserRecommend()},pageChange:function(e){this.currentPage=e,this.loading=!0,this.getNewUserRecommend()},addModalShow:function(){this.addModel=!0,this.add_recommend_type="0",this.recommend_user_id="",this.add_status="1"},cancelAdd:function(){this.addModel=!1},confirmAdd:function(){var e=this;if(""==this.recommend_user_id)this.$Message.error("请输入推荐对象ID");else if(i()(Number(this.recommend_user_id))){var t={uuid:this.$api.uuid,recommend_type:this.add_recommend_type,rel_id:this.recommend_user_id,status:this.add_status};this.$api.addNewUserRecommend(t).then(function(t){200==t.code?(e.$Message.success("添加成功"),e.addModel=!1,e.currentPage=1,e.recommend_type="-1",e.new_user_status="-1",e.getNewUserRecommend()):e.$Message.error(t.msg)})}else this.$Message.error("推荐对象ID请输入正整数")},editModalShow:function(e){this.editModel=!0,this.edit_recommend_type=Object(o.newUserPickedType)(e.recommend_type),this.edit_recommend_id=e.recommend_id,this.sort_order=e.sort_order,this.edit_status=e.status.toString(),0!=e.recommend_type&&(this.canAttention=!0)},cancelEdit:function(){this.editModel=!1,this.canAttention=!1},confirmEdit:function(){var e=this;if(null==this.sort_order)this.$Message.error("请输入排序");else{var t={uuid:this.$api.uuid,recommend_id:this.edit_recommend_id,sort_order:this.sort_order,status:this.edit_status};this.$api.editNewUserRecommend(t).then(function(t){200==t.code?(e.$Message.success("修改成功"),e.editModel=!1,e.canAttention=!1,e.loading=!0,e.getNewUserRecommend()):e.$Message.error(t.msg)})}},deleteModalShow:function(e){this.deleteModal=!0,this.delete_id=e},cancelDelete:function(){this.deleteModal=!1,this.delete_id=0},confirmDelete:function(){var e=this,t={uuid:this.$api.uuid,recommend_id:this.delete_id};this.deleteModal=!1,this.$api.deleteNewUserRecommend(t).then(function(t){200==t.code?(e.$Message.success("删除成功"),e.deleteModal=!1,e.delete_id=0,e.currentPage=1,e.loading=!0,e.getNewUserRecommend()):e.$Message.error("删除失败")})}}}]},n={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"newUserRecommend"},[s("div",{staticClass:"but"},[s("Button",{staticClass:"fr marginRight30",attrs:{type:"primary"},on:{click:e.addModalShow}},[e._v("添加新用户推荐")])],1),e._v(" "),s("div",{staticClass:"marginBottom30 flex clear"},[s("div",{staticClass:"flex"},[s("label",{staticClass:"searchLabel widther",attrs:{for:"recommendType"}},[e._v("推荐页类型")]),e._v(" "),s("Select",{staticClass:"searchSelect",attrs:{id:"recommendType"},model:{value:e.recommend_type,callback:function(t){e.recommend_type=t},expression:"recommend_type"}},[s("Option",{key:"-1",attrs:{value:"-1"}},[e._v("全部")]),e._v(" "),s("Option",{key:"0",attrs:{value:"0"}},[e._v("普通用户")]),e._v(" "),s("Option",{key:"1",attrs:{value:"1"}},[e._v("电台")]),e._v(" "),s("Option",{key:"2",attrs:{value:"2"}},[e._v("专辑")])],1)],1),e._v(" "),s("div",{staticClass:"flex"},[s("label",{staticClass:"searchLabel",attrs:{for:"newUserStatus"}},[e._v("状态")]),e._v(" "),s("Select",{staticClass:"searchSelect",attrs:{id:"newUserStatus"},model:{value:e.new_user_status,callback:function(t){e.new_user_status=t},expression:"new_user_status"}},[s("Option",{key:"-1",attrs:{value:"-1"}},[e._v("全部")]),e._v(" "),s("Option",{key:"1",attrs:{value:"1"}},[e._v("正常")]),e._v(" "),s("Option",{key:"2",attrs:{value:"2"}},[e._v("默认关注")])],1)],1),e._v(" "),s("Button",{staticClass:"searchBtn",attrs:{type:"primary",icon:"ios-search"},on:{click:e.searchData}},[e._v("查询")])],1),e._v(" "),s("Table",{attrs:{stripe:"",border:"",loading:e.loading,columns:e.newUserRecommendColum,data:e.newUserRecommendList}}),e._v(" "),s("Page",{staticClass:"paging",attrs:{total:e.totalCount,"page-size":e.pageSize,"show-total":"","show-elevator":""},on:{"on-change":e.pageChange}}),e._v(" "),[s("Modal",{attrs:{title:"添加新用户推荐"},model:{value:e.addModel,callback:function(t){e.addModel=t},expression:"addModel"}},[s("div",{staticClass:"alignCenter"},[s("p",{staticClass:"popupShow"},[s("label",{staticClass:"showLabel widther"},[e._v("推荐类别：")]),e._v(" "),s("Select",{staticClass:"showGroup width200",model:{value:e.add_recommend_type,callback:function(t){e.add_recommend_type=t},expression:"add_recommend_type"}},[s("Option",{key:"0",attrs:{value:"0"}},[e._v("普通用户")]),e._v(" "),s("Option",{key:"1",attrs:{value:"1"}},[e._v("电台")]),e._v(" "),s("Option",{key:"2",attrs:{value:"2"}},[e._v("专辑")])],1)],1),e._v(" "),s("p",{staticClass:"popupShow"},[s("label",{staticClass:"showLabel widther"},[e._v("推荐对象ID：")]),e._v(" "),s("Input",{attrs:{required:""},model:{value:e.recommend_user_id,callback:function(t){e.recommend_user_id=t},expression:"recommend_user_id"}})],1),e._v(" "),s("p",{staticClass:"popupShow"},[s("label",{staticClass:"showLabel widther"},[e._v("状态：")]),e._v(" "),s("RadioGroup",{staticClass:"showGroup width200",model:{value:e.add_status,callback:function(t){e.add_status=t},expression:"add_status"}},[s("Radio",{attrs:{label:"1"}},[e._v("正常")]),e._v(" "),0!=e.add_recommend_type?s("Radio",{attrs:{label:"2"}},[e._v("默认关注")]):e._e()],1)],1)]),e._v(" "),s("div",{attrs:{slot:"footer"},slot:"footer"},[s("Button",{staticClass:"borderNone",on:{click:e.cancelAdd}},[e._v("取消")]),e._v(" "),s("Button",{attrs:{type:"success"},on:{click:e.confirmAdd}},[e._v("确认")])],1)])],e._v(" "),[s("Modal",{attrs:{title:"新用户编辑"},model:{value:e.editModel,callback:function(t){e.editModel=t},expression:"editModel"}},[s("div",{staticClass:"alignCenter"},[s("p",{staticClass:"popupShow"},[s("label",{staticClass:"showLabel"},[e._v("类别：")]),e._v(" "),s("Input",{attrs:{disabled:""},model:{value:e.edit_recommend_type,callback:function(t){e.edit_recommend_type=t},expression:"edit_recommend_type"}})],1),e._v(" "),s("p",{staticClass:"popupShow"},[s("label",{staticClass:"showLabel"},[e._v("推荐ID：")]),e._v(" "),s("Input",{attrs:{disabled:""},model:{value:e.edit_recommend_id,callback:function(t){e.edit_recommend_id=t},expression:"edit_recommend_id"}})],1),e._v(" "),s("p",{staticClass:"popupShow"},[s("label",{staticClass:"showLabel",attrs:{for:"sortOrder"}},[e._v("序号：")]),e._v(" "),s("InputNumber",{attrs:{id:"sortOrder",min:0,precision:0},model:{value:e.sort_order,callback:function(t){e.sort_order=t},expression:"sort_order"}})],1),e._v(" "),s("p",{staticClass:"popupShow"},[s("label",{staticClass:"showLabel"},[e._v("状态：")]),e._v(" "),s("RadioGroup",{staticClass:"showGroup",model:{value:e.edit_status,callback:function(t){e.edit_status=t},expression:"edit_status"}},[s("Radio",{attrs:{label:"1"}},[e._v("正常")]),e._v(" "),e.canAttention?s("Radio",{attrs:{label:"2"}},[e._v("默认关注")]):e._e()],1)],1)]),e._v(" "),s("div",{attrs:{slot:"footer"},slot:"footer"},[s("Button",{staticClass:"borderNone",on:{click:e.cancelEdit}},[e._v("取消")]),e._v(" "),s("Button",{attrs:{type:"success"},on:{click:e.confirmEdit}},[e._v("确认")])],1)])],e._v(" "),[s("Modal",{attrs:{title:"删除新用户推荐"},model:{value:e.deleteModal,callback:function(t){e.deleteModal=t},expression:"deleteModal"}},[s("div",{staticClass:"alignCenter"},[s("p",[e._v("确认删除该新用户推荐？")])]),e._v(" "),s("div",{attrs:{slot:"footer"},slot:"footer"},[s("Button",{staticClass:"borderNone",on:{click:e.cancelDelete}},[e._v("取消")]),e._v(" "),s("Button",{attrs:{type:"error"},on:{click:e.confirmDelete}},[e._v("删除")])],1)])]],2)},staticRenderFns:[]};var d=s("C7Lr")(r,n,!1,function(e){s("wrpm")},null,null);t.default=d.exports}});