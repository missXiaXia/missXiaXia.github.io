webpackJsonp([11],{DDl8:function(e,t){},"RU+q":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r("mowP"),i={mixins:[{inject:["reload"],data:function(){var e=this;return{live_type:"-1",live_status:"-1",user_id:null,live_nickname:null,room_num:null,pageSize:15,totalCount:0,currentPage:1,liveDataList:[],liveColum:[{title:"主播ID",key:"user_id",align:"center"},{title:"主播昵称",key:"live_nickname",align:"center"},{title:"房间号",key:"room_num",align:"center"},{title:"直播模式",key:"live_type",align:"center",render:function(e,t){return e("span",Object(a.liveType)(t.row.live_type))}},{title:"直播状态",key:"live_status",align:"center",render:function(e,t){return e("span",Object(a.liveStatus)(t.row.live_status))}},{title:"排序",key:"sort_order",align:"center"},{title:"创建时间",key:"create_time",align:"center",render:function(e,t){return e("span",Object(a.formatTime)(1e3*t.row.create_time,"YMDHMS"))}},{title:"操作",key:"action",align:"center",render:function(t,r){var a="",i="";return a=5!=r.row.live_status?"none":"inline-block",i=5==r.row.live_status&&0==r.row.live_hide_status?"inline-block":"none",t("div",[t("Button",{props:{type:"primary",size:"small"},style:{marginRight:"5px"},on:{click:function(){e.getLiveDetail(r.row.live_id)}}},"查看"),t("Button",{props:{type:"error",size:"small"},style:{marginRight:"5px",display:a},attrs:{},on:{click:function(){e.forbidModalShow(r.row.live_id),console.log(r.row)}}},"禁用"),t("Button",{props:{type:"error",size:"small"},style:{marginRight:"5px",display:i},on:{click:function(){e.hideModalShow(r.row.live_id),console.log(r.row)}}},"隐藏")])}}],forbidModal:!1,hideModal:!1,cardNumberModal:!1,backgroundImgNumberModal:!1,linkNumberModal:!1,likeNumberModal:!1,robotNumberModal:!1,forbidId:0,hideId:0,roleCardNumber:null,backgroundImgNumber:null,linkNumber:null,add_like_number_time:null,like_number_time_rate:null,like_number_real_virtual_rate:null,add_robot_time_length:null,random_add_robot_number_min:null,random_add_robot_number_max:null,reduce_robot_time_length:null,random_reduce_robot_number_min:null,random_reduce_robot_number_max:null,robot_number_min:null,robot_number_max:null}},created:function(){this.getLiveList()},methods:{getLiveList:function(){var e=this,t={page:this.currentPage,per_page:this.pageSize,room_num:this.room_num,user_id:this.user_id,live_status:"-1"==this.live_status?"":this.live_status,live_type:"-1"==this.live_type?"":this.live_type,live_nickname:this.live_nickname};this.$api.getLiveList(t).then(function(t){if(200==t.code){e.totalCount=t.data.total_count,e.currentPage=t.data.page;for(var r=0;r<t.data.list.length;r++)null==t.data.list[r].live_hide_status&&(t.data.list[r].live_hide_status=0);e.liveDataList=t.data.list}else e.$Message.error(t.msg)})},searchData:function(){this.currentPage=1,this.getLiveList()},pageChange:function(e){this.currentPage=e,this.getLiveList()},refreshPage:function(){this.reload()},getLiveDetail:function(e){this.$router.push({name:"live_detail",params:{id:e}})},forbidModalShow:function(e){this.forbidModal=!0,this.forbidId=e},cancelForbid:function(){this.forbidModal=!1,this.forbidId=0},confirmForbid:function(){var e=this,t={live_id:this.forbidId};console.log(this.forbidId),this.forbidModal=!1,this.$api.setLiveForbid(t).then(function(t){200==t.code?(e.$Message.success("禁用成功"),e.currentPage=1,e.getLiveList()):e.$Message.error("禁用失败")})},hideModalShow:function(e){this.hideModal=!0,this.hideId=e},cancelHide:function(){this.hideModal=!1,this.hideId=0},confirmHide:function(){var e=this,t={live_id:this.hideId,live_hide_status:1};this.$api.setLiveHide(t).then(function(t){200==t.code?(e.$Message.success("隐藏直播成功！"),e.currentPage=1,e.getLiveList()):e.$Message.error("隐藏直播失败！")})},getRoleCardNumber:function(){var e=this;this.cardNumberModal=!0,this.$api.getRoleCardNumber().then(function(t){200==t.code?e.roleCardNumber=t.role_card_number:e.$Message.error(t.msg)})},getBackgroundImgNumber:function(){var e=this;this.backgroundImgNumberModal=!0,this.$api.getBackgroundImgNumber().then(function(t){200==t.code?e.backgroundImgNumber=t.background_image_number:e.$Message.error(t.msg)})},getLinkNumber:function(){var e=this;this.linkNumberModal=!0,this.$api.getLinkNumber().then(function(t){200==t.code?e.linkNumber=t.link_number:e.$Message.error(t.msg)})},getLikeNumber:function(){var e=this;this.likeNumberModal=!0,this.$api.getLikeNumber().then(function(t){200==t.code?(e.add_like_number_time=t.add_like_number_time,e.like_number_time_rate=e.numberToRate(t.like_number_time_rate),e.like_number_real_virtual_rate=t.like_number_real_virtual_rate):e.$Message.error(t.msg)})},numberToRate:function(e){return e+":1"},toDouble:function(e){if(e){var t=e.replace(/：/g,":").split(" ")[0].split(":");return t[0]/t[1]}},getRobotNumber:function(){var e=this;this.robotNumberModal=!0,this.$api.getRobotNumber().then(function(t){200==t.code?(e.add_robot_time_length=t.add_robot_time_length,e.random_add_robot_number_min=t.random_add_robot_number_min,e.random_add_robot_number_max=t.random_add_robot_number_max,e.reduce_robot_time_length=t.reduce_robot_time_length,e.random_reduce_robot_number_max=t.random_reduce_robot_number_max,e.random_reduce_robot_number_min=t.random_reduce_robot_number_min,e.robot_number_min=t.robot_number_min,e.robot_number_max=t.robot_number_max):e.$Message.error(t.msg)})},setRoleCardNumber:function(){var e=this,t={role_card_number:this.roleCardNumber};this.$api.setRoleCardNumber(t).then(function(t){200==t.code?(e.$Message.success("角色卡位数设置成功！"),e.cardNumberModal=!1):e.$Message.error(t.msg)})},setBackgroundImgNumber:function(){var e=this,t={background_image_number:this.backgroundImgNumber};this.$api.setBackgroundImgNumber(t).then(function(t){200==t.code?(e.$Message.success("背景图数设置成功！"),e.backgroundImgNumberModal=!1):e.$Message.error(t.msg)})},setLinkNumber:function(){var e=this,t={link_number:this.linkNumber};this.$api.setLinkNumber(t).then(function(t){200==t.code?(e.$Message.success("连麦数设置成功！"),e.linkNumberModal=!1):e.$Message.error(t.msg)})},setLikeNumber:function(){var e=this,t={add_like_number_time:null,like_number_time_rate:this.toDouble(this.like_number_time_rate),like_number_real_virtual_rate:this.toDouble(this.like_number_real_virtual_rate)};if(""!=this.add_like_number_time){var r=this.add_like_number_time.replace(/：/g,":").split(" ")[0].split(":");t.add_like_number_time=parseInt(60*r[0])+parseInt(r[1])}this.$api.setLikeNumber(t).then(function(t){200==t.code?(e.$Message.success("点赞数设置成功！"),e.likeNumberModal=!1):e.$Message.error(t.msg)})},setRobotNumber:function(){var e=this,t={add_robot_time_length:this.add_robot_time_length,random_add_robot_number_min:this.random_add_robot_number_min,random_add_robot_number_max:this.random_add_robot_number_max,reduce_robot_time_length:this.reduce_robot_time_length,random_reduce_robot_number_min:this.random_reduce_robot_number_min,random_reduce_robot_number_max:this.random_reduce_robot_number_max,robot_number_min:this.robot_number_min,robot_number_max:this.robot_number_max};this.$api.setRobotNumber(t).then(function(t){200==t.code?(e.$Message.success("机器人数设置成功！"),e.robotNumberModal=!1):e.$Message.error(t.msg)})},cancelSet:function(e){"card"==e?this.cardNumberModal=!1:"img"==e?this.backgroundImgNumberModal=!1:"link"==e?this.linkNumberModal=!1:"like"==e?this.likeNumberModal=!1:"robot"==e&&(this.robotNumberModal=!1)}}}]},o={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"liveList"},[r("div",{staticClass:"but"},[r("Button",{staticClass:"fr marginRight30",attrs:{type:"primary"},on:{click:e.refreshPage}},[e._v("刷新")])],1),e._v(" "),r("div",{staticClass:"marginBottom30 flex clear"},[r("div",{staticClass:"flex"},[r("label",{staticClass:"searchLabel",attrs:{for:"userId"}},[e._v("主播ID:")]),e._v(" "),r("Input",{attrs:{id:"userId",placeholder:"查询主播ID"},model:{value:e.user_id,callback:function(t){e.user_id=t},expression:"user_id"}})],1),e._v(" "),r("div",[r("label",{staticClass:"searchLabel",attrs:{for:"liveNickname"}},[e._v("主播昵称:")]),e._v(" "),r("Input",{attrs:{id:"liveNickname",placeholder:"查询主播昵称"},model:{value:e.live_nickname,callback:function(t){e.live_nickname=t},expression:"live_nickname"}})],1),e._v(" "),r("div",[r("label",{staticClass:"searchLabel",attrs:{for:"roomNum"}},[e._v("房间号:")]),e._v(" "),r("Input",{attrs:{id:"roomNum",placeholder:"查询房间号"},model:{value:e.room_num,callback:function(t){e.room_num=t},expression:"room_num"}})],1),e._v(" "),r("div",{staticClass:"flex"},[r("label",{staticClass:"searchLabel",attrs:{for:"liveType"}},[e._v("直播模式:")]),e._v(" "),r("Select",{staticClass:"searchSelect",attrs:{id:"liveType"},model:{value:e.live_type,callback:function(t){e.live_type=t},expression:"live_type"}},[r("Option",{attrs:{value:"-1"}},[e._v("全部")]),e._v(" "),r("Option",{attrs:{value:"1"}},[e._v("电台")]),e._v(" "),r("Option",{attrs:{value:"2"}},[e._v("角色扮演")])],1)],1),e._v(" "),r("div",{staticClass:"flex"},[r("label",{staticClass:"searchLabel",attrs:{for:"liveStatus"}},[e._v("直播状态:")]),e._v(" "),r("Select",{staticClass:"searchSelect",attrs:{id:"liveStatus"},model:{value:e.live_status,callback:function(t){e.live_status=t},expression:"live_status"}},[r("Option",{attrs:{value:"-1"}},[e._v("全部")]),e._v(" "),r("Option",{attrs:{value:"0"}},[e._v("取消直播")]),e._v(" "),r("Option",{attrs:{value:"1"}},[e._v("尚未直播")]),e._v(" "),r("Option",{attrs:{value:"2"}},[e._v("直播中断")]),e._v(" "),r("Option",{attrs:{value:"3"}},[e._v("已禁用")]),e._v(" "),r("Option",{attrs:{value:"4"}},[e._v("直播结束")]),e._v(" "),r("Option",{attrs:{value:"5"}},[e._v("直播中")])],1)],1),e._v(" "),r("Button",{staticClass:"searchBtn",attrs:{type:"primary",icon:"ios-search"},on:{click:e.searchData}},[e._v("查询")])],1),e._v(" "),r("div",{staticClass:"setButton"},[r("Button",{staticClass:"searchBtn",attrs:{type:"primary"},on:{click:e.getRoleCardNumber}},[e._v("角色卡位数设置")]),e._v(" "),r("Button",{staticClass:"searchBtn",attrs:{type:"primary"},on:{click:e.getBackgroundImgNumber}},[e._v("背景图数设置")]),e._v(" "),r("Button",{staticClass:"searchBtn",attrs:{type:"primary"},on:{click:e.getLinkNumber}},[e._v("连麦数设置")]),e._v(" "),r("Button",{staticClass:"searchBtn",attrs:{type:"primary"},on:{click:e.getLikeNumber}},[e._v("点赞数设置")]),e._v(" "),r("Button",{staticClass:"searchBtn",attrs:{type:"primary"},on:{click:e.getRobotNumber}},[e._v("机器人数设置")])],1),e._v(" "),r("Table",{attrs:{stripe:"",border:"",columns:e.liveColum,data:e.liveDataList}}),e._v(" "),r("Page",{staticClass:"paging",attrs:{total:e.totalCount,"page-size":e.pageSize,"show-total":"","show-elevator":""},on:{"on-change":e.pageChange}}),e._v(" "),[r("Modal",{attrs:{title:"禁用直播"},model:{value:e.forbidModal,callback:function(t){e.forbidModal=t},expression:"forbidModal"}},[r("div",{staticClass:"alignCenter"},[r("p",[e._v("你确定禁用该直播？")])]),e._v(" "),r("div",{attrs:{slot:"footer"},slot:"footer"},[r("Button",{staticClass:"borderNone",on:{click:e.cancelForbid}},[e._v("取消")]),e._v(" "),r("Button",{attrs:{type:"error"},on:{click:e.confirmForbid}},[e._v("确认")])],1)])],e._v(" "),[r("Modal",{attrs:{title:"隐藏直播"},model:{value:e.hideModal,callback:function(t){e.hideModal=t},expression:"hideModal"}},[r("div",{staticClass:"alignCenter"},[r("p",[e._v("你确定隐藏该直播？")])]),e._v(" "),r("div",{attrs:{slot:"footer"},slot:"footer"},[r("Button",{staticClass:"borderNone",on:{click:e.cancelHide}},[e._v("取消")]),e._v(" "),r("Button",{attrs:{type:"error"},on:{click:e.confirmHide}},[e._v("确认")])],1)])],e._v(" "),[r("Modal",{attrs:{title:"设置直播角色卡位数"},model:{value:e.cardNumberModal,callback:function(t){e.cardNumberModal=t},expression:"cardNumberModal"}},[r("div",{staticClass:"alignCenter"},[r("label",{staticClass:"searchLabel",attrs:{for:"roleCardNumber"}},[e._v("角色卡位数:")]),e._v(" "),r("Input",{attrs:{id:"roleCardNumber",placeholder:"填写角色卡位数"},model:{value:e.roleCardNumber,callback:function(t){e.roleCardNumber=t},expression:"roleCardNumber"}})],1),e._v(" "),r("div",{attrs:{slot:"footer"},slot:"footer"},[r("Button",{staticClass:"borderNone",on:{click:function(t){return e.cancelSet("card")}}},[e._v("取消")]),e._v(" "),r("Button",{attrs:{type:"success"},on:{click:e.setRoleCardNumber}},[e._v("确认")])],1)])],e._v(" "),[r("Modal",{attrs:{title:"设置直播背景图数"},model:{value:e.backgroundImgNumberModal,callback:function(t){e.backgroundImgNumberModal=t},expression:"backgroundImgNumberModal"}},[r("div",{staticClass:"alignCenter"},[r("label",{staticClass:"searchLabel",attrs:{for:"backgroundImgNumber"}},[e._v("背景图数:")]),e._v(" "),r("Input",{attrs:{id:"backgroundImgNumber",placeholder:"填写背景图数"},model:{value:e.backgroundImgNumber,callback:function(t){e.backgroundImgNumber=t},expression:"backgroundImgNumber"}})],1),e._v(" "),r("div",{attrs:{slot:"footer"},slot:"footer"},[r("Button",{staticClass:"borderNone",on:{click:function(t){return e.cancelSet("img")}}},[e._v("取消")]),e._v(" "),r("Button",{attrs:{type:"success"},on:{click:e.setBackgroundImgNumber}},[e._v("确认")])],1)])],e._v(" "),[r("Modal",{attrs:{title:"设置直播连麦数"},model:{value:e.linkNumberModal,callback:function(t){e.linkNumberModal=t},expression:"linkNumberModal"}},[r("div",{staticClass:"alignCenter"},[r("label",{staticClass:"searchLabel",attrs:{for:"linkNumber"}},[e._v("连麦数:")]),e._v(" "),r("Input",{attrs:{id:"linkNumber",placeholder:"填写连麦数"},model:{value:e.linkNumber,callback:function(t){e.linkNumber=t},expression:"linkNumber"}})],1),e._v(" "),r("div",{attrs:{slot:"footer"},slot:"footer"},[r("Button",{staticClass:"borderNone",on:{click:function(t){return e.cancelSet("link")}}},[e._v("取消")]),e._v(" "),r("Button",{attrs:{type:"success"},on:{click:e.setLinkNumber}},[e._v("确认")])],1)])],e._v(" "),[r("Modal",{attrs:{title:"设置直播点赞数"},model:{value:e.likeNumberModal,callback:function(t){e.likeNumberModal=t},expression:"likeNumberModal"}},[r("div",{staticClass:"alignCenter"},[r("div",{staticClass:"marginBottom30"},[r("label",{staticClass:"searchLabel",attrs:{for:"add_like_number_time"}},[e._v("开始增加点赞数时间:")]),e._v(" "),r("Input",{attrs:{id:"add_like_number_time",placeholder:"00:00"},model:{value:e.add_like_number_time,callback:function(t){e.add_like_number_time=t},expression:"add_like_number_time"}})],1),e._v(" "),r("div",{staticClass:"marginBottom30"},[r("label",{staticClass:"searchLabel",attrs:{for:"like_number_time_rate"}},[e._v("时间长度与增加点赞比例:")]),e._v(" "),r("Input",{attrs:{id:"like_number_time_rate",placeholder:"时间:点赞"},model:{value:e.like_number_time_rate,callback:function(t){e.like_number_time_rate=t},expression:"like_number_time_rate"}})],1),e._v(" "),r("div",{staticClass:"marginBottom30"},[r("label",{staticClass:"searchLabel",attrs:{for:"like_number_real_virtual_rate"}},[e._v("真实点赞与增加点赞比例:")]),e._v(" "),r("Input",{attrs:{id:"like_number_real_virtual_rate",placeholder:"真实点赞:点赞"},model:{value:e.like_number_real_virtual_rate,callback:function(t){e.like_number_real_virtual_rate=t},expression:"like_number_real_virtual_rate"}})],1)]),e._v(" "),r("div",{attrs:{slot:"footer"},slot:"footer"},[r("Button",{staticClass:"borderNone",on:{click:function(t){return e.cancelSet("like")}}},[e._v("取消")]),e._v(" "),r("Button",{attrs:{type:"success"},on:{click:e.setLikeNumber}},[e._v("确认")])],1)])],e._v(" "),[r("Modal",{attrs:{title:"设置直播机器人数"},model:{value:e.robotNumberModal,callback:function(t){e.robotNumberModal=t},expression:"robotNumberModal"}},[r("div",{staticClass:"alignLeft",staticStyle:{"margin-left":"35px"}},[r("div",{staticClass:"marginBottom30"},[r("label",{staticClass:"searchLabel",attrs:{for:"add_like_number_time"}},[e._v("增加机器人时间长度（单位S）:")]),e._v(" "),r("span",[e._v("15S")])]),e._v(" "),r("div",{staticClass:"marginBottom30"},[r("label",{staticClass:"searchLabel",attrs:{for:"like_number_time_rate"}},[e._v("随机机器人增加的数量的最小值:")]),e._v(" "),r("Input",{attrs:{id:"like_number_time_rate"},model:{value:e.random_add_robot_number_min,callback:function(t){e.random_add_robot_number_min=t},expression:"random_add_robot_number_min"}})],1),e._v(" "),r("div",{staticClass:"marginBottom30"},[r("label",{staticClass:"searchLabel",attrs:{for:"like_number_real_virtual_rate"}},[e._v("随机机器人增加的数量的最大值:")]),e._v(" "),r("Input",{attrs:{id:"like_number_real_virtual_rate"},model:{value:e.random_add_robot_number_max,callback:function(t){e.random_add_robot_number_max=t},expression:"random_add_robot_number_max"}})],1),e._v(" "),r("div",{staticClass:"marginBottom30"},[r("label",{staticClass:"searchLabel",attrs:{for:"like_number_real_virtual_rate"}},[e._v("减少机器人时间长度（单位S）:")]),e._v(" "),r("Input",{attrs:{id:"like_number_real_virtual_rate"},model:{value:e.reduce_robot_time_length,callback:function(t){e.reduce_robot_time_length=t},expression:"reduce_robot_time_length"}})],1),e._v(" "),r("div",{staticClass:"marginBottom30"},[r("label",{staticClass:"searchLabel",attrs:{for:"like_number_real_virtual_rate"}},[e._v("随机减少机器人数量的最小值:")]),e._v(" "),r("Input",{attrs:{id:"like_number_real_virtual_rate"},model:{value:e.random_reduce_robot_number_min,callback:function(t){e.random_reduce_robot_number_min=t},expression:"random_reduce_robot_number_min"}})],1),e._v(" "),r("div",{staticClass:"marginBottom30"},[r("label",{staticClass:"searchLabel",attrs:{for:"like_number_real_virtual_rate"}},[e._v("随机减少机器人数量的最大值:")]),e._v(" "),r("Input",{attrs:{id:"like_number_real_virtual_rate"},model:{value:e.random_reduce_robot_number_max,callback:function(t){e.random_reduce_robot_number_max=t},expression:"random_reduce_robot_number_max"}})],1),e._v(" "),r("div",{staticClass:"marginBottom30"},[r("label",{staticClass:"searchLabel",attrs:{for:"like_number_real_virtual_rate"}},[e._v("机器人添加上限最小值:")]),e._v(" "),r("Input",{attrs:{id:"like_number_real_virtual_rate"},model:{value:e.robot_number_min,callback:function(t){e.robot_number_min=t},expression:"robot_number_min"}})],1),e._v(" "),r("div",{staticClass:"marginBottom30"},[r("label",{staticClass:"searchLabel",attrs:{for:"like_number_real_virtual_rate"}},[e._v("机器人添加上限最大值:")]),e._v(" "),r("Input",{attrs:{id:"like_number_real_virtual_rate"},model:{value:e.robot_number_max,callback:function(t){e.robot_number_max=t},expression:"robot_number_max"}})],1)]),e._v(" "),r("div",{attrs:{slot:"footer"},slot:"footer"},[r("Button",{staticClass:"borderNone",on:{click:function(t){return e.cancelSet("robot")}}},[e._v("取消")]),e._v(" "),r("Button",{attrs:{type:"success"},on:{click:e.setRobotNumber}},[e._v("确认")])],1)])]],2)},staticRenderFns:[]};var l=r("C7Lr")(i,o,!1,function(e){r("DDl8")},null,null);t.default=l.exports}});