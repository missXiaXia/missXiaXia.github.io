webpackJsonp([8],{mcLl:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r("mowP"),n={mixins:[{inject:["reload"],data:function(){var e=this;return{typeList:[{type_id:"-1",type_name:"全部"},{type_id:"0",type_name:"普通声音"},{type_id:"1",type_name:"声音评论"},{type_id:"2",type_name:"声音评论回复"},{type_id:"4",type_name:"付费声音"},{type_id:"5",type_name:"付费声音评论"},{type_id:"6",type_name:"付费声音评论回复"},{type_id:"9",type_name:"普通专辑"},{type_id:"10",type_name:"普通专辑评论"},{type_id:"11",type_name:"普通专辑评论回复"},{type_id:"3",type_name:"付费专辑"},{type_id:"7",type_name:"付费专辑评论"},{type_id:"8",type_name:"付费专辑评论回复"},{type_id:"12",type_name:"动态"},{type_id:"13",type_name:"动态评论"},{type_id:"14",type_name:"动态评论回复"},{type_id:"15",type_name:"直播"},{type_id:"16",type_name:"艺人"}],report_type:"-1",report_all_number:null,report_new_number:null,report_status:"-1",report_result:"-1",reportList:[],reportColum:[{title:"举报编号",key:"inform_id",align:"center"},{title:"举报类型",key:"inform_type",align:"center",render:function(e,t){return e("span",Object(a.reportType)(t.row.inform_type))}},{title:"总举报数",key:"inform_total_number",align:"center"},{title:"新增举报数",key:"inform_new_number",align:"center"},{title:"最新举报时间",key:"last_inform_time",align:"center",render:function(e,t){return e("span",Object(a.formatTime)(1e3*t.row.last_inform_time,"YMDHMS"))}},{title:"举报状态",key:"inform_status",align:"center",render:function(e,t){return e("span",Object(a.reportStatus)(t.row.inform_status))}},{title:"处理结果",key:"deal_result",align:"center",render:function(e,t){return e("span",Object(a.reportResult)(t.row.deal_result))}},{title:"处理备注",key:"deal_notes",align:"center",render:function(e,t){return e("span",""==t.row.deal_notes?"无":t.row.deal_notes)}},{title:"操作",key:"action",width:180,align:"center",render:function(t,r){return t("div",[t("Button",{props:{type:"primary",size:"small"},style:{marginRight:"5px"},on:{click:function(){e.goReportDetail(r.row.inform_id)}}},"查看"),t("Button",{props:{type:"error",size:"small"},on:{click:function(){e.deleteModalShow(r.row.inform_id)}}},"删除")])}}],pageSize:15,totalCount:0,currentPage:1,deleteModal:!1,deleteId:0}},created:function(){console.log(this.$api),this.getReportList()},methods:{getReportList:function(){var e=this,t={page:this.currentPage,per_page:this.pageSize,inform_type:"-1"==this.report_type?"":this.report_type,inform_total_number:this.report_all_number,inform_new_number:this.report_new_number,inform_status:"-1"==this.report_status?"":this.report_status,inform_result:"-1"==this.report_result?"":this.report_result};this.$api.getReportList(t).then(function(t){200==t.code?(e.totalCount=t.data.total_count,e.currentPage=t.data.page,e.reportList=t.data.list):e.$Message.error(t.msg)})},searchData:function(){this.currentPage=1,this.getReportList()},pageChange:function(e){this.currentPage=e,this.getReportList()},refreshPage:function(){this.reload()},goReportDetail:function(e){this.$router.push({name:"report_detail",params:{id:e}})},deleteModalShow:function(e){this.deleteModal=!0,this.deleteId=e},cancelDelete:function(){this.deleteModal=!1,this.deleteId=0},confirmDelete:function(){var e=this,t={inform_id:this.deleteId};this.deleteModal=!1,this.$api.deleteReport(t).then(function(t){200==t.code?(e.$Message.success("删除成功"),e.currentPage=1,e.getReportList()):e.$Message.error("删除失败")})}}}]},s={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"reportManage"},[r("div",{staticClass:"but"},[r("Button",{staticClass:"fr marginRight30",attrs:{type:"primary"},on:{click:e.refreshPage}},[e._v("刷新")])],1),e._v(" "),r("div",{staticClass:"marginBottom30 flex clear"},[r("div",{staticClass:"flex"},[r("label",{staticClass:"searchLabel",attrs:{for:"reportType"}},[e._v("举报类型")]),e._v(" "),r("Select",{staticClass:"searchSelect",attrs:{id:"reportType"},model:{value:e.report_type,callback:function(t){e.report_type=t},expression:"report_type"}},e._l(e.typeList,function(t){return r("Option",{key:t.type_id,attrs:{value:t.type_id}},[e._v(e._s(t.type_name))])}),1)],1),e._v(" "),r("div",[r("label",{staticClass:"searchLabel",attrs:{for:"reportAllNum"}},[e._v("总举报数")]),e._v(" "),r("InputNumber",{attrs:{id:"reportAllNum",min:0},model:{value:e.report_all_number,callback:function(t){e.report_all_number=t},expression:"report_all_number"}})],1),e._v(" "),r("div",[r("label",{staticClass:"searchLabel",attrs:{for:"reportNewNum"}},[e._v("新增举报数")]),e._v(" "),r("InputNumber",{attrs:{id:"reportNewNum",min:0},model:{value:e.report_new_number,callback:function(t){e.report_new_number=t},expression:"report_new_number"}})],1),e._v(" "),r("div",{staticClass:"flex"},[r("label",{staticClass:"searchLabel",attrs:{for:"reportStatus"}},[e._v("举报状态")]),e._v(" "),r("Select",{staticClass:"searchSelect",attrs:{id:"reportStatus"},model:{value:e.report_status,callback:function(t){e.report_status=t},expression:"report_status"}},[r("Option",{attrs:{value:"-1"}},[e._v("全部")]),e._v(" "),r("Option",{attrs:{value:"0"}},[e._v("未处理")]),e._v(" "),r("Option",{attrs:{value:"1"}},[e._v("已处理")])],1)],1),e._v(" "),r("div",{staticClass:"flex"},[r("label",{staticClass:"searchLabel",attrs:{for:"reportResult"}},[e._v("处理结果")]),e._v(" "),r("Select",{staticClass:"searchSelect",attrs:{id:"reportResult"},model:{value:e.report_result,callback:function(t){e.report_result=t},expression:"report_result"}},[r("Option",{attrs:{value:"-1"}},[e._v("全部")]),e._v(" "),r("Option",{attrs:{value:"0"}},[e._v("有效举报")]),e._v(" "),r("Option",{attrs:{value:"1"}},[e._v("无效举报")])],1)],1),e._v(" "),r("Button",{staticClass:"searchBtn",attrs:{type:"primary",icon:"ios-search"},on:{click:e.searchData}},[e._v("查询")])],1),e._v(" "),r("Table",{attrs:{stripe:"",border:"",columns:e.reportColum,data:e.reportList}}),e._v(" "),r("Page",{staticClass:"paging",attrs:{total:e.totalCount,"page-size":e.pageSize,"show-total":"","show-elevator":""},on:{"on-change":e.pageChange}}),e._v(" "),[r("Modal",{attrs:{title:"删除举报信息"},model:{value:e.deleteModal,callback:function(t){e.deleteModal=t},expression:"deleteModal"}},[r("div",{staticClass:"alignCenter"},[r("p",[e._v("你确定删除此条举报信息？")])]),e._v(" "),r("div",{attrs:{slot:"footer"},slot:"footer"},[r("Button",{staticClass:"borderNone",on:{click:e.cancelDelete}},[e._v("取消")]),e._v(" "),r("Button",{attrs:{type:"error"},on:{click:e.confirmDelete}},[e._v("删除")])],1)])]],2)},staticRenderFns:[]};var i=r("C7Lr")(n,s,!1,function(e){r("uWCQ")},null,null);t.default=i.exports},uWCQ:function(e,t){}});